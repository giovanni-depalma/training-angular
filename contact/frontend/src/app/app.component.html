<mat-toolbar color="primary">Contacts</mat-toolbar>

<main class="container">
  @if (error()) {
    <mat-card class="error-card" appearance="outlined">
      <mat-card-content>{{ error() }}</mat-card-content>
    </mat-card>
  }

  <mat-card class="toolbar" appearance="outlined">
    <mat-card-content>
      <app-contact-filter
        [groups]="groups()"
        [selectedGroupId]="selectedGroupId()"
        (selectedChange)="onGroupChange($event)"
      />
    </mat-card-content>
  </mat-card>

  @if (loading()) {
    <div class="loading">
      <mat-progress-spinner mode="indeterminate" diameter="24"></mat-progress-spinner>
      <span>Caricamentoâ€¦</span>
    </div>
  }

  <mat-card class="list" appearance="outlined">
    <mat-card-header>
      <mat-card-title>Elenco contatti</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-contact-list [contacts]="contacts()" (deleteClicked)="onDelete($event)" />
    </mat-card-content>
  </mat-card>

  <mat-card class="form" appearance="outlined">
    <mat-card-header>
      <mat-card-title>Nuovo contatto</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-contact-form [groups]="groups()" (submitted)="onCreate($event)" />
    </mat-card-content>
  </mat-card>
</main>
