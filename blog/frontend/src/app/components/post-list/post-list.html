@for (p of posts(); track p.id) {
  <mat-card class="post" appearance="outlined">
    <mat-card-header>
      <mat-card-title>{{ p.title }}</mat-card-title>
      <button mat-icon-button color="warn" aria-label="Elimina post" (click)="deleteClicked.emit(p.id)" class="delete-btn">
        <mat-icon>delete</mat-icon>
      </button>
    </mat-card-header>
    <mat-card-content>
      <div class="body">{{ p.body }}</div>
      <div class="meta">Pubblicato: {{ p.createdAt | date:'medium' }}</div>

      <section class="comments">
        <h4>Commenti ({{ p.comments.length }})</h4>
        <app-comments-list [comments]="p.comments" />
        <app-comment-form [postId]="p.id" (submitted)="commentSubmitted.emit($event)" />
      </section>
    </mat-card-content>
  </mat-card>
}
